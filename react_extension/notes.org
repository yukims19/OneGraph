* First Step: "Contact Enrichment"
Given one serviceId+userId (GitHub+sgrove or LinkedIn+segrove) tuple, can we find any other serviceId+userId ("enriching the contact point we have")?

let target = {
gitHubLogin: null,
youtubeSub: null,
eventilUsername: null,
twitterScreenname: null,
hackernewsUsername: null
};

OP User asks, "Here's a hacker news username: sgrove"

let target = {
gitHubLogin: null,
youtubeSub: null,
eventilUsername: null,
twitterScreenname: null,
hackernewsUsername: "sgrove"
};

After we search on eventil, descuri, etc., we find:

let target = {
gitHubLogin: "sgrove",
youTubeSub: null,
eventilUsername: null,
twitterScreenname: "sgrove",
hackernewsUsername: "sgrove"
};

** Enrich via eventil

   {
  eventil {
    user(github: $gitHubLogin) {
      profile {
        hackernews
        twitter
        reddit
        github
        linkedin
      }
    }
  }
}

** Enrich via HN

   {
  descuri(url: "http://tlrobinson.net/") {
    twitter {
      links
    }
  }
}


* Second step: Get data

Run a full Eventil + GitHub + Twitter query with:
let target = {
gitHubLogin: "sgrove",
youtubeSub: null,
eventilUsername: null,
twitterScreenname: "sgrove",
hackernewsUsername: "sgrove"
};


#+BEGIN_SRC
query($user: String!) {
  gitHub {
    user(login: $user) {
      id
      avatarUrl
      url
      login
      followers {
        totalCount
      }
      following {
        totalCount
      }
      repositories(first: 6, orderBy: { direction: DESC, field: UPDATED_AT }) {
        nodes {
          id
          description
          url
          name
          forks {
            totalCount
          }
          stargazers {
            totalCount
          }
          languages(first: 1, orderBy: { field: SIZE, direction: DESC }) {
            edges {
              size
              node {
                id
                color
                name
              }
            }
          }
        }
        totalCount
      }
    }
  }
}
#+END_SRC


* Next task
On your page, have an input text box and services, like:

[_______] [Search]

| HackerNews:        | *unknown* |
| GitHub:            | *unknown* |
| Twitter:           | *unknown* |
| Email:             | *unknown* |
| YouTube:           | *unknown* |
| LinkedIn:          | *unknown* |
| Exists on eventil? | *unknown* |

You should be able to paste in some text (probably a link) to the textbox and hit enter (or click a button)

When pasting in e.g. https://news.ycombinator.com/user?id=tlrobinson show a loading spinner while you execute the "contact enrichment" queries, probably three or four, maybe recursively

Then, as the queries return, and you're able to find a e.g. gitHub or YouTube username *somewhere* in the result, update the render result:

[https://news.ycombinator.com/user?id=tlrobinson] [Search] [o]

| HackerNews:        | *unknown*  |
| GitHub:            | tlrobinson |
| Twitter:           | *unknown*  |
| Email:             | *unknown*  |
| YouTube:           | fancypants |
| LinkedIn:          | *unknown*  |
| Exists on eventil? | true       |

Then when all the queries are finished, you have all of the usernames for the services you could find, and you can call the full query for that service (e.g. github or Youtube)
